static int io_uring_flush(struct file *file, void *data)
{
	struct io_ring_ctx *ctx = file->private_data;

	/*
	 * If the task is going away, cancel work it may have pending
	 */
	if (fatal_signal_pending(current) || (current->flags & PF_EXITING))
		data = NULL;

	io_uring_cancel_task_requests(ctx, data);
	io_uring_attempt_task_drop(file, !data);
	return 0;
}